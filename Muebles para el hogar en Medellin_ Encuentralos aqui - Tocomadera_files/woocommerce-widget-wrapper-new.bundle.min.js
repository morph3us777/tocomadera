!function(){function e(e){let n="home"===e?"https://cdn.addi.com/home-banner-widget/prod/v1/home-banner-widget.esm.js":"https://cdn.addi.com/product-details-widget/prod/v1/product-details-widget.esm.js";const t=document.createElement("script");t.type="module",t.src=n,document.head.append(t)}const n=document.querySelector('script[data-name="wooAddiHomeBanner"]'),t=n?n.getAttribute("data-ally-slug"):null,a={showBanner:!1,bannerId:"",bannerElementRef:""};new Date;let d=null;function r(){jQuery("addi-widget").on("onWidgetRenderedEvent",(function(){})),jQuery("addi-widget").on("onWidgetClickedEvent",(function(){new Date}));const t=function(){const e=["/"];"undefined"!=typeof addiParams&&e.push(addiParams.home_url);const n=window.location.pathname;return e.some((e=>n===e))?"Home":""}();"undefined"!=typeof addiParams?"Home"===t&&null!=n?(a.showBanner="true"===n.getAttribute("data-show-banner"),a.bannerElementRef=n.getAttribute("data-banner-element-reference"),a.bannerId=n.getAttribute("data-banner-id"),a.showBanner&&o()):"true"==addiParams.is_product&&e("product"):"Home"===t&&null!=n?(a.showBanner="true"===n.getAttribute("data-show-banner"),a.bannerElementRef=n.getAttribute("data-banner-element-reference"),a.bannerId=n.getAttribute("data-banner-id"),a.showBanner&&o()):e()}function o(){e("home");const n=d||function(e){if(e)return d=document.querySelector(e),d}(a.bannerElementRef);if(n){const e=document.querySelector("addi-home-banner");e&&e.remove();const d=document.createElement("addi-home-banner");a.bannerId&&(d.setAttribute("ally-slug",t),d.setAttribute("banner-id",a.bannerId)),r=d,(o=n).parentNode.insertBefore(r,o.nextSibling)}else console.log("No reference node was not found for home banner.");var r,o}"complete"===document.readyState||"interactive"===document.readyState?r():document.addEventListener("DOMContentLoaded",r)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGRpLXdpZGdldC13b29jb21tZXJjZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbXBvcnRBZGRpV2lkZ2V0QnVuZGxlIiwicGFnZSIsImJ1bmRsZSIsInNjcmlwdEVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwic3JjIiwiaGVhZCIsImFwcGVuZCIsIkFERElfU0NSSVBUX1RBRyIsInF1ZXJ5U2VsZWN0b3IiLCJBTExZX1NMVUciLCJnZXRBdHRyaWJ1dGUiLCJXSURHRVRfQkFOTkVSX0RBVEEiLCJzaG93QmFubmVyIiwiYmFubmVySWQiLCJiYW5uZXJFbGVtZW50UmVmIiwiRGF0ZSIsImh0bWxFbGVtZW50UmVmZXJlbmNlIiwib25Qcm9kdWN0UGFnZUxvYWRlZCIsImpRdWVyeSIsIm9uIiwiUEFHRV9DQVRFR09SWSIsImRlZmF1bHRIb21lUGFnZVJvdXRlcyIsImFkZGlQYXJhbXMiLCJwdXNoIiwiaG9tZV91cmwiLCJVUkxwYXRoTmFtZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzb21lIiwiSG9tZVJvdXRlIiwiZ2V0UGFnZUNhdGVnb3J5RnJvbVVybCIsInJlbmRlckFkZGlIb21lQmFubmVyIiwiaXNfcHJvZHVjdCIsImVsZW1lbnRSZWZlcmVuY2UiLCJyZWZlcmVuY2UiLCJnZXRSZWZlcmVuY2VOb2RlIiwiYmFubmVyIiwicmVtb3ZlIiwiYWRkaUhvbWVCYW5uZXIiLCJzZXRBdHRyaWJ1dGUiLCJuZXdOb2RlIiwicmVmZXJlbmNlTm9kZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsImNvbnNvbGUiLCJsb2ciLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkNBQUEsV0FVSyxTQUFTQSxFQUF1QkMsR0FFN0IsSUFBSUMsRUFBbUIsU0FBVEQsRUFBb0IsNEVBQ3hCLG9GQUVULE1BQU1FLEVBQWdCQyxTQUFTQyxjQUFjLFVBQzdDRixFQUFjRyxLQUFPLFNBQ3JCSCxFQUFjSSxJQUFNTCxFQUNwQkUsU0FBU0ksS0FBS0MsT0FBT04sR0FTMUIsTUFBTU8sRUFBa0JOLFNBQVNPLGNBQWMseUNBQ3pDQyxFQUFZRixFQUFrQkEsRUFBZ0JHLGFBQWEsa0JBQW9CLEtBQy9FQyxFQUFxQixDQUN2QkMsWUFBWSxFQUNaQyxTQUFVLEdBQ1ZDLGlCQUFrQixJQUVHLElBQUlDLEtBRTdCLElBQUlDLEVBQXVCLEtBMEMzQixTQUFTQyxJQWpDTEMsT0FBTyxlQUFlQyxHQUFHLHlCQUF5QixlQVdsREQsT0FBTyxlQUFlQyxHQUFHLHdCQUF3QixXQUNuQixJQUFJSixRQXVCbEMsTUFBTUssRUE0Q1YsV0FDSSxNQUFNQyxFQUF3QixDQUMxQixLQUdzQixvQkFBZkMsWUFDUEQsRUFBc0JFLEtBQUtELFdBQVdFLFVBRTFDLE1BQU1DLEVBQWNDLE9BQU9DLFNBQVNDLFNBQ3BDLE9BQU9QLEVBQXNCUSxNQUFLQyxHQUFhTCxJQUFnQkssSUFBYSxPQUFTLEdBckQvREMsR0FFSSxvQkFBZlQsV0FDZSxTQUFsQkYsR0FBK0MsTUFBbkJiLEdBTzVCSSxFQUFtQkMsV0FBa0UsU0FBckRMLEVBQWdCRyxhQUFhLG9CQUM3REMsRUFBbUJHLGlCQUFtQlAsRUFBZ0JHLGFBQWEsaUNBQ25FQyxFQUFtQkUsU0FBV04sRUFBZ0JHLGFBQWEsa0JBQ3ZEQyxFQUFtQkMsWUFDbkJvQixLQUUyQixRQUF6QlYsV0FBV1csWUFPakJwQyxFQUF1QixXQUdMLFNBQWxCdUIsR0FBK0MsTUFBbkJiLEdBQzVCSSxFQUFtQkMsV0FBa0UsU0FBckRMLEVBQWdCRyxhQUFhLG9CQUM3REMsRUFBbUJHLGlCQUFtQlAsRUFBZ0JHLGFBQWEsaUNBQ25FQyxFQUFtQkUsU0FBV04sRUFBZ0JHLGFBQWEsa0JBQ3ZEQyxFQUFtQkMsWUFDbkJvQixLQUdKbkMsSUFzQlosU0FBU21DLElBQ0xuQyxFQUF1QixRQUV2QixNQUFNcUMsRUFBbUJsQixHQTZCNUIsU0FBMEJtQixHQUV2QixHQUFJQSxFQUdBLE9BRkFuQixFQUF1QmYsU0FBU08sY0FBYzJCLEdBRXZDbkIsRUFsQ3NDb0IsQ0FBaUJ6QixFQUFtQkcsa0JBRXJGLEdBQUlvQixFQUFrQixDQUVsQixNQUFNRyxFQUFTcEMsU0FBU08sY0FBYyxvQkFDdEM2QixHQUFTQSxFQUFPQyxTQUNoQixNQUFNQyxFQUFpQnRDLFNBQVNDLGNBQWMsb0JBRTFDUyxFQUFtQkUsV0FDbkIwQixFQUFlQyxhQUFhLFlBQWEvQixHQUN6QzhCLEVBQWVDLGFBQWEsWUFBYTdCLEVBQW1CRSxXQTNFbkQ0QixFQThFREYsR0E5RVVHLEVBOEVNUixHQTdFbEJTLFdBQVdDLGFBQWFILEVBQVNDLEVBQWNHLGtCQWlGekRDLFFBQVFDLElBQUksb0RBbEZwQixJQUFxQk4sRUFBU0MsRUEyR0YsYUFBeEJ6QyxTQUFTK0MsWUFBcUQsZ0JBQXhCL0MsU0FBUytDLFdBQy9DL0IsSUFHQWhCLFNBQVNnRCxpQkFBaUIsbUJBQW9CaEMsR0F6THREIiwiZmlsZSI6Indvb2NvbW1lcmNlLXdpZGdldC13cmFwcGVyLW5ldy5idW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogSU1QT1JUU1xuICAgICAqIFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogSW1wb3J0IEFkZGktd2lkZ2V0IGJ1bmRsZVxuICAgICAqL1xuICAgICBmdW5jdGlvbiBpbXBvcnRBZGRpV2lkZ2V0QnVuZGxlKHBhZ2UpIHtcblxuICAgICAgICBsZXQgYnVuZGxlID0gKHBhZ2UgPT09ICdob21lJyApID8gJ2h0dHBzOi8vY2RuLmFkZGkuY29tL2hvbWUtYmFubmVyLXdpZGdldC9wcm9kL3YxL2hvbWUtYmFubmVyLXdpZGdldC5lc20uanMnXG4gICAgICAgICAgICAgICAgOiAnaHR0cHM6Ly9jZG4uYWRkaS5jb20vcHJvZHVjdC1kZXRhaWxzLXdpZGdldC9wcm9kL3YxL3Byb2R1Y3QtZGV0YWlscy13aWRnZXQuZXNtLmpzJyA7XG5cbiAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgIHNjcmlwdEVsZW1lbnQudHlwZSA9ICdtb2R1bGUnO1xuICAgICAgICAgc2NyaXB0RWxlbWVudC5zcmMgPSBidW5kbGU7XG4gICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChzY3JpcHRFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBEQVRBIElOSVRJQUxJWkFUSU9OXG4gICAgICogXG4gICAgICovXG5cbiAgICBjb25zdCBBRERJX1NDUklQVF9UQUcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbZGF0YS1uYW1lPVwid29vQWRkaUhvbWVCYW5uZXJcIl0nKTtcbiAgICBjb25zdCBBTExZX1NMVUcgPSBBRERJX1NDUklQVF9UQUcgPyBBRERJX1NDUklQVF9UQUcuZ2V0QXR0cmlidXRlKCdkYXRhLWFsbHktc2x1ZycpIDogbnVsbDtcbiAgICBjb25zdCBXSURHRVRfQkFOTkVSX0RBVEEgPSB7XG4gICAgICAgIHNob3dCYW5uZXI6IGZhbHNlLFxuICAgICAgICBiYW5uZXJJZDogJycsXG4gICAgICAgIGJhbm5lckVsZW1lbnRSZWY6ICcnXG4gICAgfTtcbiAgICBjb25zdCBvblNjcmlwdEluaXRUaW1lID0gbmV3IERhdGUoKTtcblxuICAgIGxldCBodG1sRWxlbWVudFJlZmVyZW5jZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBNRVRIT0RTXG4gICAgICogXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBhZGRpQmluZHMoKSB7XG4gICAgICAgIGpRdWVyeSgnYWRkaS13aWRnZXQnKS5vbignb25XaWRnZXRSZW5kZXJlZEV2ZW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gY29uc3Qgb25XZGdSZW5kZXJlZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB3aWRnZXRUcmFja2VyQW1wbGl0dWRlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAvLyAgICAgd2lkZ2V0VHJhY2tlckFtcGxpdHVkZSh3aW5kb3cuYW1wbGl0dWRlX2NvbmZpZy5BTVBMSVRVREVfRVZFTlRbJ1dJREdFVF9SRU5ERVJFRCddLCB7XG4gICAgICAgICAgICAvLyAgICAgICAgIG9uU2NyaXB0SW5pdFRpbWVNczogb25TY3JpcHRJbml0VGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICAvLyAgICAgICAgIG9uV2RnUmVuZGVyZWRUaW1lTXM6IG9uV2RnUmVuZGVyZWRUaW1lLmdldFRpbWUoKSxcbiAgICAgICAgICAgIC8vICAgICAgICAgb25XZGdSZW5kZXJlZER1cmF0aW9uTXM6IG9uV2RnUmVuZGVyZWRUaW1lLmdldFRpbWUoKSAtIG9uU2NyaXB0SW5pdFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGpRdWVyeSgnYWRkaS13aWRnZXQnKS5vbignb25XaWRnZXRDbGlja2VkRXZlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBvbldkZ1JlbmRlcmVkVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAvLyBpZiAodHlwZW9mIHdpZGdldFRyYWNrZXJBbXBsaXR1ZGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIC8vICAgICB3aWRnZXRUcmFja2VyQW1wbGl0dWRlKHdpbmRvdy5hbXBsaXR1ZGVfY29uZmlnLkFNUExJVFVERV9FVkVOVFsnV0lER0VUX0NMSUNLRUQnXSwge1xuICAgICAgICAgICAgLy8gICAgICAgICBvblNjcmlwdEluaXRUaW1lTXM6IG9uU2NyaXB0SW5pdFRpbWUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgLy8gICAgICAgICBvbldkZ1JlbmRlcmVkVGltZU1zOiBvbldkZ1JlbmRlcmVkVGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICAvLyAgICAgICAgIG9uV2RnUmVuZGVyZWREdXJhdGlvbk1zOiBvbldkZ1JlbmRlcmVkVGltZS5nZXRUaW1lKCkgLSBvblNjcmlwdEluaXRUaW1lLmdldFRpbWUoKVxuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW5zZXJ0IGEgbmV3Tm9kZSBpbnRvIHRoZSBET00ganVzdCBhZnRlciB0aGUgZ2l2ZW4gcmVmZXJlbmNlTm9kZVxuICAgICAqIEBwYXJhbSB7Kn0gbmV3Tm9kZSBcbiAgICAgKiBAcGFyYW0geyp9IHJlZmVyZW5jZU5vZGUgXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBpbnNlcnRBZnRlcihuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgICAgIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZS5uZXh0U2libGluZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qcm9kdWN0UGFnZUxvYWRlZCgpIHtcbiAgICAgICAgYWRkaUJpbmRzKCk7XG4gICAgICAgIGNvbnN0IFBBR0VfQ0FURUdPUlkgPSBnZXRQYWdlQ2F0ZWdvcnlGcm9tVXJsKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhZGRpUGFyYW1zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKFBBR0VfQ0FURUdPUlkgPT09ICdIb21lJyAmJiBBRERJX1NDUklQVF9UQUcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEFtcGxpdHVkZSBzY3JpcHQgc3RhcnQgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIHdpZGdldFRyYWNrZXJBbXBsaXR1ZGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgd2lkZ2V0VHJhY2tlckFtcGxpdHVkZSh3aW5kb3cuYW1wbGl0dWRlX2NvbmZpZy5BTVBMSVRVREVfRVZFTlRbJ1NDUklQVF9TVEFSVEVEJ10sIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9uU2NyaXB0SW5pdFRpbWVNczogb25TY3JpcHRJbml0VGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBXSURHRVRfQkFOTkVSX0RBVEEuc2hvd0Jhbm5lciA9IEFERElfU0NSSVBUX1RBRy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2hvdy1iYW5uZXInKSA9PT0gJ3RydWUnO1xuICAgICAgICAgICAgICAgIFdJREdFVF9CQU5ORVJfREFUQS5iYW5uZXJFbGVtZW50UmVmID0gQURESV9TQ1JJUFRfVEFHLmdldEF0dHJpYnV0ZSgnZGF0YS1iYW5uZXItZWxlbWVudC1yZWZlcmVuY2UnKTtcbiAgICAgICAgICAgICAgICBXSURHRVRfQkFOTkVSX0RBVEEuYmFubmVySWQgPSBBRERJX1NDUklQVF9UQUcuZ2V0QXR0cmlidXRlKCdkYXRhLWJhbm5lci1pZCcpO1xuICAgICAgICAgICAgICAgIGlmIChXSURHRVRfQkFOTkVSX0RBVEEuc2hvd0Jhbm5lcikge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJBZGRpSG9tZUJhbm5lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZihhZGRpUGFyYW1zLmlzX3Byb2R1Y3QgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBBbXBsaXR1ZGUgc2NyaXB0IHN0YXJ0IGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB3aWRnZXRUcmFja2VyQW1wbGl0dWRlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHdpZGdldFRyYWNrZXJBbXBsaXR1ZGUod2luZG93LmFtcGxpdHVkZV9jb25maWcuQU1QTElUVURFX0VWRU5UWydTQ1JJUFRfU1RBUlRFRCddLCB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBvblNjcmlwdEluaXRUaW1lTXM6IG9uU2NyaXB0SW5pdFRpbWUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaW1wb3J0QWRkaVdpZGdldEJ1bmRsZSgncHJvZHVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFBBR0VfQ0FURUdPUlkgPT09ICdIb21lJyAmJiBBRERJX1NDUklQVF9UQUcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFdJREdFVF9CQU5ORVJfREFUQS5zaG93QmFubmVyID0gQURESV9TQ1JJUFRfVEFHLmdldEF0dHJpYnV0ZSgnZGF0YS1zaG93LWJhbm5lcicpID09PSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgV0lER0VUX0JBTk5FUl9EQVRBLmJhbm5lckVsZW1lbnRSZWYgPSBBRERJX1NDUklQVF9UQUcuZ2V0QXR0cmlidXRlKCdkYXRhLWJhbm5lci1lbGVtZW50LXJlZmVyZW5jZScpO1xuICAgICAgICAgICAgICAgIFdJREdFVF9CQU5ORVJfREFUQS5iYW5uZXJJZCA9IEFERElfU0NSSVBUX1RBRy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmFubmVyLWlkJyk7XG4gICAgICAgICAgICAgICAgaWYgKFdJREdFVF9CQU5ORVJfREFUQS5zaG93QmFubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckFkZGlIb21lQmFubmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbXBvcnRBZGRpV2lkZ2V0QnVuZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsb2NhdGlvblxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gZ2V0UGFnZUNhdGVnb3J5RnJvbVVybCgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEhvbWVQYWdlUm91dGVzID0gW1xuICAgICAgICAgICAgJy8nXG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhZGRpUGFyYW1zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZGVmYXVsdEhvbWVQYWdlUm91dGVzLnB1c2goYWRkaVBhcmFtcy5ob21lX3VybCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgVVJMcGF0aE5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRIb21lUGFnZVJvdXRlcy5zb21lKEhvbWVSb3V0ZSA9PiBVUkxwYXRoTmFtZSA9PT0gSG9tZVJvdXRlKSA/ICdIb21lJyA6ICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckFkZGlIb21lQmFubmVyKCkge1xuICAgICAgICBpbXBvcnRBZGRpV2lkZ2V0QnVuZGxlKCdob21lJyk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudFJlZmVyZW5jZSA9IGh0bWxFbGVtZW50UmVmZXJlbmNlIHx8IGdldFJlZmVyZW5jZU5vZGUoV0lER0VUX0JBTk5FUl9EQVRBLmJhbm5lckVsZW1lbnRSZWYpO1xuXG4gICAgICAgIGlmIChlbGVtZW50UmVmZXJlbmNlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FkZGktaG9tZS1iYW5uZXInKTtcbiAgICAgICAgICAgIGJhbm5lciA/IGJhbm5lci5yZW1vdmUoKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBhZGRpSG9tZUJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FkZGktaG9tZS1iYW5uZXInKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChXSURHRVRfQkFOTkVSX0RBVEEuYmFubmVySWQpIHtcbiAgICAgICAgICAgICAgICBhZGRpSG9tZUJhbm5lci5zZXRBdHRyaWJ1dGUoJ2FsbHktc2x1ZycsIEFMTFlfU0xVRyk7XG4gICAgICAgICAgICAgICAgYWRkaUhvbWVCYW5uZXIuc2V0QXR0cmlidXRlKCdiYW5uZXItaWQnLCBXSURHRVRfQkFOTkVSX0RBVEEuYmFubmVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbnNlcnRBZnRlcihhZGRpSG9tZUJhbm5lciwgZWxlbWVudFJlZmVyZW5jZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHJlZmVyZW5jZSBub2RlIHdhcyBub3QgZm91bmQgZm9yIGhvbWUgYmFubmVyLicpXG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIE1FVEhPRFNcbiAgICAgKiBcbiAgICAgKi9cblxuXG4gICAgIGZ1bmN0aW9uIGdldFJlZmVyZW5jZU5vZGUocmVmZXJlbmNlKSB7XG5cbiAgICAgICAgaWYgKHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgaHRtbEVsZW1lbnRSZWZlcmVuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJlZmVyZW5jZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBodG1sRWxlbWVudFJlZmVyZW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogRXZlbnQncyBsaXN0ZW5lcnNcbiAgICAgKi9cblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgICAgIG9uUHJvZHVjdFBhZ2VMb2FkZWQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBvblByb2R1Y3RQYWdlTG9hZGVkKTtcbiAgICB9XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9